<h1>Scheduling</h1>
We used Google's or-tools to create the models and Gurobi to solve them. Other solvers may be very slow, or may not even be able to solve the problem.
An overview of NBA scheduling can be found [here](https://www.nbastuffer.com/analytics101/how-the-nba-schedule-is-made/).

<h3>First formulation: Daily ([solver.py](https://github.com/googleinterns/step108-2020/blob/svgs/scheduler/solver.py))</h3>


<h5>Data and Variables</h5>
<p align="center"><img alt="\begin{align*}&#10;  \mathcal{T} &amp;:= &amp;&amp; \{\text{teams}\} \\&#10;  \mathcal{N} &amp;:= &amp;&amp; \{\text{total days}\} \\&#10;  W &amp; := &amp;&amp; \{\text{total weeks}\} \\&#10;  W_n &amp; := &amp;&amp; \{\text{days in week $n$}\} \\&#10;  L_{tu} &amp;:=&amp;&amp; \text{minimum number of times $t$ plays $u$ at home} \\&#10;  U_{tu} &amp;:=&amp;&amp; \text{maximum number of times $t$ plays $u$ at home} \\&#10;  x_{tu}^i  &amp;:=&amp;&amp;&#10;    \begin{cases}&#10;      1 &amp; \text{if team $t$ plays a home game against team $u$ on day $i$}\\&#10;      0 &amp; \text{otherwise}&#10;    \end{cases} \\&#10;    y_t^i &amp;:=&amp;&amp;&#10;    \begin{cases}&#10;      1 &amp; \text{if team $t$ is home on day $i$}\\&#10;      0 &amp; \text{otherwise}&#10;    \end{cases} \\&#10;    z_t^i &amp;:=&amp;&amp; \text{cost paid by team $t$ on day $i$} \\&#10;    v &amp;:=&amp;&amp; \text{max cost paid by any team}&#10;\end{align*}" src="https://github.com/googleinterns/step108-2020/blob/svgs/svgs/739d01759e7f84a758eb6565a6723fb6.svg" align="middle" width="545.9145285pt" height="302.14670474999997pt"/></p>

<h5>Feasibility Constraints</h5>
<p align="center"><img alt="\begin{align*}&#10; &amp;(1) \hspace{3ex} \forall t \in \mathcal{T}:&amp;&amp; \sum_{i \in w} \sum_{u \in \mathcal{T}} (x_{ut}^i + x_{tu}^i) \leq 4 \\&#10; &amp;(2) \hspace{3ex} \forall i \in \mathcal{N}, \; \forall t \in \mathcal{T}:&amp;&amp; \sum_{u \in \mathcal{T}} (x_{ut}^i + x_{tu}^i) \leq 1 \\&#10; &amp;(3) \hspace{3ex} \forall u, t \in \mathcal{T} \text{ s.t. } u \neq t:&amp;&amp; \hspace{-6ex} L_{ut} \leq \sum_{i \in \mathcal{N}} x_{ut}^i \leq U_{ut} \\&#10; &amp;(4) \hspace{3ex} \forall u \in \mathcal{T}:&amp;&amp; \sum_{i \in \mathcal{N}} \sum_{t \in \mathcal{T}} x_{tu}^i \leq 41 \\&#10; &amp;(5) \hspace{3ex} \forall t \in \mathcal{T}:&amp;&amp; \sum_{i \in \mathcal{N}} \sum_{u \in \mathcal{T}} x_{tu}^i  41 \\&#10;\end{align*}" src="https://github.com/googleinterns/step108-2020/blob/svgs/svgs/85d91e1539e810ecd226cd09ae11bdab.svg" align="middle" width="469.22092635pt" height="221.7521592pt"/></p>

<h5>Objective Constraints</h5>
<p align="center"><img alt="\begin{align*}&#10; &amp;(1) \hspace{3ex} \forall i \in \mathcal{N}, \; \forall t \in \mathcal{T}:&amp;&amp; y_t^i \geq \sum_{u \in \mathcal{T}}x_{tu}^i \\&#10; &amp;(2) \hspace{3ex} \forall i \in \mathcal{N}, \; \forall t \in \mathcal{T}:&amp;&amp; y_t^i \leq 1 - \sum_{u \in \mathcal{T}}x_{ut}^i \\&#10; &amp;(3) \hspace{3ex} \forall i \in \mathcal{N}, \; i \neq 0, \; \forall t \in \mathcal{T}:&amp;&amp;  z_t^i \geq 0 \\&#10; &amp;(4) \hspace{3ex} \forall i \in \mathcal{N}, \; \forall t \in \mathcal{T}:&amp;&amp;  z_t^i \geq y_t^i - y_t^{i-1} \\&#10; &amp;(5) \hspace{3ex} \forall t \in \mathcal{T}:&amp;&amp;  v \geq \sum_{i \in \mathcal{N}}z_t^i \\&#10; &amp;(6) &amp;&amp; \min v&#10;\end{align*}" src="https://github.com/googleinterns/step108-2020/blob/svgs/svgs/77925fc9e8f9d198adb5ec881a1a82f6.svg" align="middle" width="450.70818705pt" height="209.93445494999997pt"/></p>
